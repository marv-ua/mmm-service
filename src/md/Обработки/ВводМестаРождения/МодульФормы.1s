//******************************************************************************
//	Выполнить()
//
//	Параметры:
//		нет
//
//	Описание:
//		Возвращает в параметре формы реквизиты через запятую
//
Процедура Выполнить()

	Форма.Параметр = ""+Особое+","+СокрЛП(Город)+","+СокрЛП(Район)+","+СокрЛП(Регион)+","+СокрЛП(Страна)

КонецПроцедуры	// Выполнить

//******************************************************************************
//	Предопределенная процедура
//
Процедура ПриОткрытии()

	Если ТипЗначения(Форма.Параметр)=2 Тогда
		СписокПараметров = глРазложить(Форма.Параметр);
		Попытка
			Особое	= Число(СписокПараметров.ПолучитьЗначение(1));
			Город	= СписокПараметров.ПолучитьЗначение(2);
			Район	= СписокПараметров.ПолучитьЗначение(3);
			Регион	= СписокПараметров.ПолучитьЗначение(4);
			Страна	= СписокПараметров.ПолучитьЗначение(5);
		Исключение
		КонецПопытки;
	Иначе
		Предупреждение("Эта обработка используется в системных целях!",6);
		СтатусВозврата(0); Возврат;
	КонецЕсли;

КонецПроцедуры	// ПриОткрытии

//******************************************************************************
//	Предопределенная процедура
//
Процедура ПриНачалеВыбораЗначения(Элемент,ФлагОбработки)

	Если Элемент="Страна" Тогда
		ФлагОбработки = 0;
		ОКСМ = СоздатьОбъект("Справочник.ОКСМ");
		ОКСМ.НайтиПоНаименованию(Страна);
		Если ОКСМ.Выбрать("Выберите страну","ФормаСписка")=1 Тогда
			Страна = ОКСМ.Наименование
		КонецЕсли;
	КонецЕсли;

КонецПроцедуры	// ПриНачалеВыбораЗначения
