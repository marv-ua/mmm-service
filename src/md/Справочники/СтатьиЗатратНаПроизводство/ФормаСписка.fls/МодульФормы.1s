////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ МОДУЛЯ
//

//*****************************************************************************
// НомерПиктограммы()
//
// Возвращаемое значение:
//  Число - номер пиктограммы картинки, связанной с табличной частью формы.
//
// Вызывается из формул элементов диалога:
//  Колонка СоставБазыРаспределения.
//
// Описание:
//  Определяет номер пиктограммы картинки, отображаемой в текущей строке,
// в зависимости от того включена ли данная статья в базу распределения
// косвенных расходов или нет.
// 
Функция НомерПиктограммы()
	
	Если СтатьяВходитВБазуРаспределенияКосвенныхЗатрат = 1 Тогда
	    НомПикт = 1;
	Иначе
		НомПикт = 2;
	КонецЕсли;

	Возврат НомПикт;
	
КонецФункции // НомерПиктограммы()


////////////////////////////////////////////////////////////////////////////////
// ПРЕДОПРЕДЕЛЕННЫЕ ПРОЦЕДУРЫ
//

//*****************************************************************************
// Предопределенная процедура
//
Процедура ПриОткрытии()
	
	База = Константа.БазаРаспределенияКосвенныхРасходов.Получить(ИспользоватьДату());
	ОтдельныеСтатьи = Перечисление.БазаРаспределенияКосвенныхРасходов.ОтдельныеСтатьиПрямыхЗатрат;
	
	Если База = ОтдельныеСтатьи Тогда
	Иначе
		Форма.СоставБазыРаспределения.Видимость(0);
	КонецЕсли;
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Перечисление" Тогда
	    УстановитьОтбор("ВидРасходовДляНалоговогоУчета", Форма.Параметр);		
		Форма.ВидРасходовДляНалоговогоУчета.Видимость(0);
	КонецЕсли;
	
КонецПроцедуры // ПриОткрытии() 

//*****************************************************************************
// Предопределенная процедура 
//
Процедура ПриУстановкеОтбора(ТипОтбора,ЗначениеОтбора)
	Если ПустоеЗначение(ЗначениеОтбора) = 1 Тогда
		Форма.ВидРасходовДляНалоговогоУчета.Видимость(1);
	КонецЕсли;
КонецПроцедуры  

//*****************************************************************************
// Предопределенная процедура
//
Процедура ПриРедактированииНовойСтроки()
	
	СтатьяВходитВБазуРаспределенияКосвенныхЗатрат = 0;
	ИмяОтбора = ""; ЗначениеОтбора = "";
	ПолучитьОтбор(ИмяОтбора, ЗначениеОтбора);
	Если ПустоеЗначение(ЗначениеОтбора) = 0 Тогда
	    ВидРасходовДляНалоговогоУчета = ЗначениеОтбора;
	КонецЕсли;
	
КонецПроцедуры // ПриРедактированииНовойСтроки()

//*****************************************************************************
// Предопределенная процедура
//
Процедура ПриВводеСтроки()
	
	СтатьяВходитВБазуРаспределенияКосвенныхЗатрат = 0;
	
КонецПроцедуры // ПриВводеСтроки()