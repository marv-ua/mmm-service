////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ МОДУЛЯ
// 
//******************************************************************************
// Валюта()
//
// Параметры:
//  Нет.
//
// Возвращаемое значение:
//  Строка - возвращается наименование валюты цен в договоре или "руб.", 
// 			 если валюта не выбрана.
//
// Вызывается из формул элементов диалога:
//  Графа списка "Валюта".
//
Функция Валюта()
	Если ТекущийЭлемент().Выбран() = 1 Тогда
		Если ПустоеЗначение(Валюта) = 1 Тогда
			Стр = "руб.";
		Иначе
			Стр = Валюта.Наименование;
		КонецЕсли;
		Возврат Стр;
	КонецЕсли;
	Возврат "";
КонецФункции // Валюта()

//******************************************************************************
// ВклНДС()
//
// Параметры:
//  Нет.
//
// Возвращаемое значение:
//  Строка - возвращается признак включения в цену НДС
//
// Вызывается из формул элементов диалога:
//  Графа списка "Вкл. НДС".
//
Функция ВклНДС()
	Если ТекущийЭлемент().Выбран() = 1 Тогда
		Стр = ?(ЦенаВклНДС = 1,"Да","");
		Возврат Стр;
	КонецЕсли;
	Возврат "";
КонецФункции // Валюта()

//******************************************************************************
// ВклНП()
//
// Параметры:
//  Нет.
//
// Возвращаемое значение:
//  Строка - возвращается признак включения в цену НП
//
// Вызывается из формул элементов диалога:
//  Графа списка "Вкл. НП".
//
Функция ВклНП()
	Если ТекущийЭлемент().Выбран() = 1 Тогда
		Стр = ?(ЦенаВклНП = 1,"Да","");
		Возврат Стр;
	КонецЕсли;
	Возврат "";
КонецФункции // Валюта() 

//******************************************************************************
Процедура ПриВыбореСтроки()
    Если (ПустоеЗначение(Форма.Параметр) = 0) Тогда
		Форма.Параметр = ТекущийЭлемент();
	КонецЕсли;
	
КонецПроцедуры

//******************************************************************************
Процедура ПриОткрытии()
    Если (Константа.ИспользоватьТипыЦен = Нет) и (ПустоеЗначение(Форма.Параметр) = 1) Тогда
		Предупреждение("Использование типов цен отключено!",30);
		СтатусВозврата(0);
    КонецЕсли;
КонецПроцедуры
