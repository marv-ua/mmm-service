//_____________________________________________________________________________
Функция ИнформацияОПроводке(Корреспонденция,Подпись)
	ОграничениеДлиныНаименования = 50;
	Инф = Подпись+" "+Корреспонденция.Счет.Код+" ("+
	Лев(Корреспонденция.Счет.Наименование,ОграничениеДлиныНаименования)+
	?(СтрДлина(Корреспонденция.Счет.Наименование)>ОграничениеДлиныНаименования,"...","")+")";
	Для i=1 по Корреспонденция.Счет.КоличествоСубконто() Цикл
		Инф = Инф+" / "+Корреспонденция.Субконто(i);
	КонецЦикла;
	Возврат Инф;
КонецФункции //ИнформацияОПроводке
//_____________________________________________________________________________
Функция ДатаИзВарианта(Вариант, КонецИнтервала)
	ДатаГраницы = "";
	
	Если ТипЗначенияСтр(Вариант) = "Дата" Тогда
	    ДатаГраницы = Вариант;
	
	Иначе //Если ТипЗначенияСтр(Вариант) = "Строка" Тогда
		Если Вариант = "Месяц" Тогда
			Если КонецИнтервала = 0 Тогда //начало интервала
				ДатаГраницы = НачМесяца(РабочаяДата());
			Иначе //Если КонецИнтервала = 1 Тогда //конец интервала
				ДатаГраницы = КонМесяца(РабочаяДата());
			КонецЕсли;

		ИначеЕсли Вариант = "Квартал" Тогда
			Если КонецИнтервала = 0 Тогда //начало интервала
				ДатаГраницы = НачКвартала(РабочаяДата());
			Иначе //Если КонецИнтервала = 1 Тогда //конец интервала
				ДатаГраницы = КонКвартала(РабочаяДата());
			КонецЕсли;

		ИначеЕсли Вариант = "Год" Тогда
			Если КонецИнтервала = 0 Тогда //начало интервала
				ДатаГраницы = НачГода(РабочаяДата());
			Иначе //Если КонецИнтервала = 1 Тогда //конец интервала
				ДатаГраницы = КонГода(РабочаяДата());
			КонецЕсли;
		
		Иначе //Если Вариант = "День" Тогда
			ДатаГраницы = РабочаяДата();
		КонецЕсли;
	КонецЕсли;
	
	Возврат ДатаГраницы;
КонецФункции //ДатаИзВарианта

//_____________________________________________________________________________
Процедура ПриУстановкеИнтервала(ДатаНач, ДатаКон)
	Если (ДатаНач < ДатаИзВарианта(НачалоСтандартногоИнтервала(), 0))
		или (ДатаКон > ДатаИзВарианта(КонецСтандартногоИнтервала(), 1)) Тогда
	    Предупреждение("Указанный интервал выходит за границы, установленные в параметрах
						|системы для журналов документов, операций и проводок. Он не сохранится
						|после закрытия журнала.
						|Установка интервала для всех журналов выполняется из меню Сервис
						|в настройке параметров системы (Параметры) на закладке Журналы.");
	КонецЕсли;
КонецПроцедуры
//_____________________________________________________________________________
Процедура ПриОткрытии()
	Разделять = ВосстановитьЗначение( "Разделять" );
	Если Разделять = 1 Тогда
		ЗакладкиОтбора("НомерЖурнала", 1 )
	Иначе
		ЗакладкиОтбора("", 1,,)
	КонецЕсли;
	Форма.Кн_Справка.Видимость( ?(ТипЗначения(Норм_Компонента)=0,0,1 ));
	Форма.Кн_Видеокурс.Видимость( ?(ТипЗначения(Видео_Компонента)=0,0,1 ));
КонецПроцедуры

Процедура ОбработкаРазделения()
	СохранитьЗначение( "Разделять", Разделять );
	Если Разделять = 1 Тогда
		ЗакладкиОтбора("НомерЖурнала", 1 )
	Иначе
		ЗакладкиОтбора("", 1,,)
	КонецЕсли;
КонецПроцедуры

Процедура ПолучитьСправку()
	Если Выбрана()=0 Тогда
		Возврат;
	КонецЕсли;
	Мн=СоздатьОбъект("СписокЗначений");
	Мн.ДобавитьЗначение(Дебет.Счет);
	Мн.ДобавитьЗначение(Кредит.Счет);
	Сч="";
	Если Мн.ВыбратьЗначение(Сч,,,,1) = 1 Тогда
		Норм_ПолучитьСправку("_&"+Сч.Код);
	КонецЕсли;
КонецПроцедуры
