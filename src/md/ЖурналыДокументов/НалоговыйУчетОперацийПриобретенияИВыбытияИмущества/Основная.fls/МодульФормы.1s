////////////////////////////////////////////////////////////////////////////////
// ПЕРЕМЕННЫЕ МОДУЛЯ
//

Перем СписокДействий;
Перем СписокРегистровНалоговогоУчета;

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ МОДУЛЯ
//

//******************************************************************************
// Заполнить()
//
// Вызывается из формул элементов диалога:
//  Кнопка КнопкаЗаполнить.
//
// Описание:
//  Вызывает обработку "Формирование документов налогового учета".
//
Процедура Заполнить()
	
    СписокВидов = СоздатьОбъект("СписокЗначений");
	СписокВидов.ДобавитьЗначение("ОперацииПриобретенияИмущества");
	СписокВидов.ДобавитьЗначение("ОперацииВыбытияИмущества");
	
	СписокПараметров = СоздатьОбъект("СписокЗначений");
	СписокПараметров.Установить("ВидыДокументов", СписокВидов);
	ОткрытьФорму("Обработка.ФормированиеНалоговыхДокументов", СписокПараметров);
	
КонецПроцедуры // Заполнить()

//******************************************************************************
// ФормированиеРегистраНалоговогоУчета()
//
// Вызывается из формул элементов диалога:
//  Кнопка "Регистр налогового учета".
//
// Описание:
//  Вызывает отчеты "Регистр учета операций приобретения имущества, работ, услуг,
// прав" и "Регистр учета операций выбытия имущества, работ, услуг, прав".
//
Процедура ФормированиеРегистраНалоговогоУчета()
	
	Перем РегистрНалоговогоУчета;
	
    РегистрНалоговогоУчета = "";
	Если СписокРегистровНалоговогоУчета.ВыбратьЗначение(РегистрНалоговогоУчета,,,, 1) = 1 Тогда
        ОткрытьФорму("Отчет." + РегистрНалоговогоУчета)
    КонецЕсли;;
	
КонецПроцедуры // ФормированиеРегистраНалоговогоУчета()  

////////////////////////////////////////////////////////////////////////////////
// ПРЕДОПРЕДЕЛЕННЫЕ ПРОЦЕДУРЫ
//

//******************************************************************************
// Предопределенная процедура
//
Процедура ПриОткрытии()
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Документ" Тогда
		глАктивизироватьДокумент(Контекст, Форма.Параметр);
	КонецЕсли;
	
	СписокРегистровНалоговогоУчета = СоздатьОбъект("СписокЗначений");
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаОперацийПриобретенияИмущества", Метаданные.Отчет("РегистрУчетаОперацийПриобретенияИмущества").Представление());
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаОперацийВыбытияИмущества", Метаданные.Отчет("РегистрУчетаОперацийВыбытияИмущества").Представление());
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаОперацийПоДвижениюДебиторскойИКредиторскойЗадолженности", Метаданные.Отчет("РегистрУчетаОперацийПоДвижениюДебиторскойИКредиторскойЗадолженности").Представление());

КонецПроцедуры // ПриОткрытии()

//******************************************************************************
// Предопределенная процедура
//
Процедура ПриПовторномОткрытии()
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Документ" Тогда
		глАктивизироватьДокумент(Контекст, Форма.Параметр);
	КонецЕсли;

КонецПроцедуры // ПриПовторномОткрытии()

//******************************************************************************
// 
СписокДействий = СоздатьОбъект("СписокЗначений");
СписокДействий.ДобавитьЗначение("Структура подчиненности");
СписокДействий.ДобавитьЗначение("Отчет о движениях документа");
