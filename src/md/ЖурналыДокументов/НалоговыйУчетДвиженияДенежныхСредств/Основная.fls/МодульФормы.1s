////////////////////////////////////////////////////////////////////////////////
// ПЕРЕМЕННЫЕ МОДУЛЯ
//

Перем СписокДействий;
Перем СписокРегистровНалоговогоУчета;

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ МОДУЛЯ
//

//******************************************************************************
// Заполнить()
//
// Вызывается из формул элементов диалога:
//  Кнопка КнопкаЗаполнить.
//
// Описание:
//  Вызывает обработку "Формирование документов налогового учета".
//
Процедура Заполнить()
	
	СписокВидов = СоздатьОбъект("СписокЗначений");
	СписокВидов.ДобавитьЗначение("ПоступленияДенежныхСредств");
	СписокВидов.ДобавитьЗначение("РасходДенежныхСредств");
	
	СписокПараметров = СоздатьОбъект("СписокЗначений");
	СписокПараметров.Установить("ВидыДокументов", СписокВидов);
	ОткрытьФорму("Обработка.ФормированиеНалоговыхДокументов", СписокПараметров);
	
КонецПроцедуры // Заполнить()

//******************************************************************************
// ФормированиеРегистраНалоговогоУчета()
//
// Вызывается из формул элементов диалога:
//  Кнопка "Регистр налогового учета".
//
// Описание:
//  Вызывает отчеты "Регистр учета поступлений денежных средств" и "Регистр учета 
// расхода денежных средств".
//
Процедура ФормированиеРегистраНалоговогоУчета()
	
	Перем РегистрНалоговогоУчета;
	
    РегистрНалоговогоУчета = "";
	Если СписокРегистровНалоговогоУчета.ВыбратьЗначение(РегистрНалоговогоУчета,,,, 1) = 1 Тогда
        ОткрытьФорму("Отчет." + РегистрНалоговогоУчета)
    КонецЕсли;
	
КонецПроцедуры // ФормированиеРегистраНалоговогоУчета()  

////////////////////////////////////////////////////////////////////////////////
// ПРЕДОПРЕДЕЛЕННЫЕ ПРОЦЕДУРЫ
//

//******************************************************************************
// Предопределенная процедура
//
Процедура ПриОткрытии()
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Документ" Тогда
		глАктивизироватьДокумент(Контекст, Форма.Параметр);
	КонецЕсли;
	
	СписокРегистровНалоговогоУчета = СоздатьОбъект("СписокЗначений");
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаПоступленийДенежныхСредств", Метаданные.Отчет("РегистрУчетаПоступленийДенежныхСредств").Представление());
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаРасходаДенежныхСредств", Метаданные.Отчет("РегистрУчетаРасходаДенежныхСредств").Представление());
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаДоговоровНаДобровольноеСтрахованиеРаботников", Метаданные.Отчет("РегистрУчетаДоговоровНаДобровольноеСтрахованиеРаботников").Представление());
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаОперацийПоДвижениюДебиторскойИКредиторскойЗадолженности", Метаданные.Отчет("РегистрУчетаОперацийПоДвижениюДебиторскойИКредиторскойЗадолженности").Представление());
	
КонецПроцедуры // ПриОткрытии()

//******************************************************************************
// Предопределенная процедура
//
Процедура ПриПовторномОткрытии()
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Документ" Тогда
		глАктивизироватьДокумент(Контекст, Форма.Параметр);
	КонецЕсли;

КонецПроцедуры // ПриПовторномОткрытии()

//******************************************************************************
// 
СписокДействий = СоздатьОбъект("СписокЗначений");
СписокДействий.ДобавитьЗначение("Структура подчиненности");
СписокДействий.ДобавитьЗначение("Отчет о движениях документа");
