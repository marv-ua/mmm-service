////////////////////////////////////////////////////////////////////////////////
// ПЕРЕМЕННЫЕ МОДУЛЯ
//

Перем СписокДействий;
Перем СписокРегистровНалоговогоУчета;

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ МОДУЛЯ
//

//******************************************************************************
// Заполнить()
//
// Вызывается из формул элементов диалога:
//  Кнопка КнопкаЗаполнить.
//
// Описание:
//  Вызывает обработку "Формирование документов налогового учета".
//
Процедура Заполнить()
	
    СписокВидов = СоздатьОбъект("СписокЗначений");
	СписокВидов.ДобавитьЗначение("ЗачетЗадолженности");
	СписокВидов.ДобавитьЗначение("РасчетКурсовыхРазниц");
	СписокВидов.ДобавитьЗначение("СписаниеМатериаловТоваровПродукции");

	СписокПараметров = СоздатьОбъект("СписокЗначений");
	СписокПараметров.Установить("ВидыДокументов", СписокВидов);
	ОткрытьФорму("Обработка.ФормированиеНалоговыхДокументов", СписокПараметров);
	
КонецПроцедуры // Заполнить()

//******************************************************************************
// ФормированиеРегистраНалоговогоУчета()
//
// Параметры:
//  Нет.
//
// Вызывается из формул элементов диалога:
//  Нет.
//
// Описание:
//  Здесь описывается процедура.
//
Процедура ФормированиеРегистраНалоговогоУчета()
	
	Перем РегистрНалоговогоУчета;
	
    РегистрНалоговогоУчета = "";
	Если СписокРегистровНалоговогоУчета.ВыбратьЗначение(РегистрНалоговогоУчета,,,, 1) = 1 Тогда
        ОткрытьФорму("Отчет." + РегистрНалоговогоУчета)
    КонецЕсли;
	
КонецПроцедуры // ФормированиеРегистраНалоговогоУчета()  

////////////////////////////////////////////////////////////////////////////////
// ПРЕДОПРЕДЕЛЕННЫЕ ПРОЦЕДУРЫ
//

//******************************************************************************
// Предопределенная процедура
//
Процедура ПриОткрытии()
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Документ" Тогда
		глАктивизироватьДокумент(Контекст, Форма.Параметр);
	КонецЕсли;
	
	СписокРегистровНалоговогоУчета = СоздатьОбъект("СписокЗначений");
	СписокРегистровНалоговогоУчета.ДобавитьЗначение("РегистрУчетаОперацийПоДвижениюДебиторскойИКредиторскойЗадолженности", Метаданные.Отчет("РегистрУчетаОперацийПоДвижениюДебиторскойИКредиторскойЗадолженности").Представление());

КонецПроцедуры // ПриОткрытии()

//******************************************************************************
// Предопределенная процедура
//
Процедура ПриПовторномОткрытии()
	
	Если ТипЗначенияСтр(Форма.Параметр) = "Документ" Тогда
		глАктивизироватьДокумент(Контекст, Форма.Параметр);
	КонецЕсли;

КонецПроцедуры // ПриПовторномОткрытии()

//******************************************************************************
// 
СписокДействий = СоздатьОбъект("СписокЗначений");
СписокДействий.ДобавитьЗначение("Структура подчиненности");
СписокДействий.ДобавитьЗначение("Отчет о движениях документа");
