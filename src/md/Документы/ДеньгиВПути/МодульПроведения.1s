// ********************
//
Процедура ОбработкаПроведения()
	Перем Сч51;
	Перем Сч571;
	
	спрЮрЛицо = СоздатьОбъект("Справочник.СвоиЮрЛица"); 
	спрЮрЛицо.НайтиПоКоду("00001");
	ЮрЛицо = спрЮрЛицо.ТекущийЭлемент();
  
	Сч51 = СчетПоКоду("51");
  	Cч571 = СчетПоКоду("57.1");
  	Cч9011 = СчетПоКоду("90.1.1");
    
  	
  	ВыбратьСтроки();
  	Пока ПолучитьСтроку() = 1 Цикл
  		
  		Если ВидДвижения = Перечисление.НаправленияДвиженияДенег.ВПуть Тогда
	  		Операция.НоваяПроводка();
	  		Операция.РазделительУчета = ЮрЛицо;
			Операция.ПервичныйДокумент  = глПредставлениеПервичногоДокумента(Контекст);
			
	  		Операция.СодержаниеПроводки = "в путь";
	  		
	  		Операция.Дебет.Счет = Cч571;
	  		
	  		Операция.Кредит.Счет = Сч51;
	  		Операция.Кредит.БанковскиеСчета = Фирма; 
	  		
	  		//
	  		Операция.НоваяПроводка();
	  		Операция.РазделительУчета = ЮрЛицо;
			Операция.ПервичныйДокумент  = глПредставлениеПервичногоДокумента(Контекст);	  		
	  		
	  		Операция.СодержаниеПроводки = "";	
	  		
	  		Операция.Дебет.Счет = Сч51;
	  		Операция.Дебет.БанковскиеСчета = Фирма;
	  		
	  		Операция.Кредит.Счет = Cч9011;
	  		
	  	Иначе
	  		Операция.НоваяПроводка();
	  		Операция.РазделительУчета = ЮрЛицо;
			Операция.ПервичныйДокумент  = глПредставлениеПервичногоДокумента(Контекст);	  		
	  		
	  		Операция.СодержаниеПроводки = "из пути";	
	  		
	  		Операция.Дебет.Счет = Сч51;
	  		Операция.Дебет.БанковскиеСчета = Фирма;
	  		
	  		Операция.Кредит.Счет = Cч571;
	  		
	  		//
	  		Операция.НоваяПроводка();
	  		Операция.РазделительУчета = ЮрЛицо;
			Операция.ПервичныйДокумент  = глПредставлениеПервичногоДокумента(Контекст);
			
	  		Операция.СодержаниеПроводки = "";
	  		
	  		Операция.Дебет.Счет = Cч9011;
	  		
	  		Операция.Кредит.Счет = Сч51;
	  		Операция.Кредит.БанковскиеСчета = Фирма; 	  		
  		КонецЕсли;
  
 	 	Операция.Сумма = СуммаВПуть
 	 	
 	 КонецЦикла;
 	 
 	 Операция.Записать();

КонецПроцедуры
